## Spring 

### 第一章 概述

#### 第一节 JavaWeb开发及问题

##### 一、传统 Javaweb 开发的核心痛点

1. 层与层 / 接口与实现类 “紧耦合”

- 例：业务层调用 DAO 层时，若需切换 DAO 实现（如从`UserDOImpl`改为`UserDOProxy`），必须修改业务层源码。

- **本质问题**：程序主动创建依赖对象，导致修改成本高、扩展性差，违背 “开闭原则”。

2. 通用功能与业务代码 “紧耦合”

- 问题表现

  事务管理（开启 / 提交 / 回滚）、操作日志（记录用户行为 / 异常信息）等通用功能，需嵌入到每个业务方法中。

- **本质问题**：代码冗余（通用功能重复编写）、业务逻辑不纯粹（核心业务被通用功能代码淹没）、维护成本高（修改通用功能需改动所有业务方法）。

##### 二、痛点的解决方案思路

1. 解决 “紧耦合” 问题：第三方负责对象创建

- **核心思路**：程序不再手动`new`对象，而是由**第三方容器**根据需求提供依赖对象（如 DAO 层实例、业务层实例）。
- 作用
  - 隔离接口与实现类：业务层仅依赖 DAO 接口，具体实现由第三方容器配置决定，切换实现无需修改源码。
  - 降低层间依赖：业务层无需关心 DAO 层对象的创建细节，只需从容器中获取并使用。

2. 解决 “通用功能耦合” 问题：第三方提供增强对象

- **核心思路**：第三方容器不再直接返回 “原始业务对象”，而是返回**被增强的代理对象（Proxy）** ，通用功能（事务、日志）通过代理对象自动实现。
- 作用
  - 通用功能与业务代码分离：通用功能由代理对象 “自动增强”，业务层只需专注核心业务逻辑。
  - 消除代码冗余：通用功能只需配置一次，即可作用于所有目标业务对象。



#### 第二节 IoC、DI、AOP思想的提出

- **IoC思想**
  Inversion of Control,控制反转，强调的是原来在程序中创建Bean的权利反转给第三方。
- **DI思想**
  Dependency Injection,依赖注入，强调的Bean之间关系，这种关系第三方负责去设置。
- **AOP思想**
  Aspect Oriented Programming，面向切面编程，功能的横向抽取，主要的实现方式就是Proxy，对某一个bean进行增强

- **框架（framework）**概念的提出
  - 是基于基础技术之上，从众多业务中抽取出的**通用解决方案**；
  - 框架是一个半成品，使用框架规定的语法开发可以**提高开发效率**，可以用简单的代码就能完成复杂的基础业务；
  - 框架内部使用大量的设计模式、算法、底层代码操作技术，如反射、内省、xml解析、注解解析等；
  - 框架一般都具备**扩展性**；
  - 有了框架，我们可以将精力尽可能的投入在**纯业务开发**上而不用去费心技术实现以及一些辅助业务。

- Java中常用的框架：
      不同语言，不同领域都有属于自己的框架，使用框架开发是作为程序员的最基础的底线。Java语言中的框架，可以分为基础框架和服务框架：
  - 基础框架：完成基本业务操作的框架，如MyBatis、Spring、SpringMVC、Struts2、Hibernate等
  - 服务框架：特定领域的框架，一般还可以对外提供服务框架，如MQ、ES、Nacos等



#### 第三节 Spring框架

##### 1. 概述

- spring是一个开源的**轻量级Java开发应用框架**，可以简化企业级应用开发。Spring解决了开发者在JavaEE开发中遇到的许多常见的问题，提供了功能强大的IOC、AOP和Web MVC等功能。是当前企业中Java开发几乎不能缺少的框架之一。Spring的生态及其完善，不管是Spring哪个领域的解决方案都是依附于在Spring Framework基础框架的。

- 技术栈：

![image-20251016122315067](C:\Users\Silence\AppData\Roaming\Typora\typora-user-images\image-20251016122315067.png)

##### 2. bean factory快速入门

![image-20251016122508278](C:\Users\Silence\AppData\Roaming\Typora\typora-user-images\image-20251016122508278.png)

- 导入Spring的jar包或Maven坐标;
- 定义UserService接口及其UserServic实现类;
- 创建beans.xml配置文件，将UserServic实现的信息配置到该xml中;
- 编写测试代码，创建BeanFactory,加载配置文件，获取UserService实例对象。